imports:
    - php

filter:
    excluded_paths: [vendor/*, test/*, build/*, database/*]

build:
    nodes:
        tests:
            override:
                - command: php artisan test
                - command: XDEBUG_MODE=coverage ./vendor/bin/phpunit --coverage-xml build
                - command: XDEBUG_MODE=coverage ./vendor/bin/phpunit --coverage-text build
                - command: XDEBUG_MODE=coverage ./vendor/bin/phpunit --coverage-html build
                - command: XDEBUG_MODE=coverage ./vendor/bin/phpunit --coverage-clover build/clover.xml
                coverage:
                    file: build/clover.xml
                    format: clover
